# Tencent EdgeOne Cache Manager - 更新日志

## v1.0.4 (2025-10-31)

### 🐛 Bug 修复
- **修复测试连接跳转问题**: 修复点击"测试连接"按钮跳转到 options.php 的问题
- **表单结构优化**: 将测试连接表单从配置表单中分离，避免嵌套表单问题

### 🎉 新增功能
- **GitHub 自动更新**: 集成 GitHub Release 自动更新检查
- **版本检测**: 自动检测 GitHub 最新版本并在插件列表显示更新提示
- **手动检查更新**: 在插件列表添加"检查更新"链接
- **更新信息显示**: 在设置页面显示当前版本和可用更新
- **GitHub 链接**: 在插件列表添加 GitHub 仓库链接

### 🔧 功能改进
- **更新缓存机制**: GitHub API 响应缓存 12 小时，减少 API 调用
- **智能下载**: 优先使用 Release 中的插件 zip 文件，否则使用源码 zip
- **版本比较**: 自动比较本地版本和远程版本，仅在有新版本时提示
- **插件信息**: 完善插件信息展示，包括版本号、GitHub 链接等

### 📚 文档更新
- 更新 README.md，添加自动更新功能说明
- 更新 FEATURES.md，添加更新功能使用指南

---

## v1.0.3 (2025-10-31)

### 🎉 新增功能
- **连接测试功能**: 添加"测试连接"按钮，可实时验证腾讯云 API 配置是否正确
- **状态徽章显示**: 页面标题显示实时配置状态（已配置✅ / 待配置⚠️ / SDK未安装❌）
- **配置向导**: 添加详细的配置说明，包含腾讯云控制台直达链接
- **缓存策略可视化**: 使用卡片式布局展示四种缓存清理策略和使用场景
- **SecretKey 密码保护**: SecretKey 输入框默认隐藏，支持显示/隐藏切换
- **配置完成度提示**: 已填写的配置项显示绿色对勾✓

### 🎨 UI 优化
- **卡片式布局**: 采用现代化的卡片式设计，信息层次更清晰
- **响应式设计**: 完美适配桌面端、平板和移动端
- **Dashicons 图标**: 使用 WordPress 原生图标系统，保持风格统一
- **配色优化**: 遵循 WordPress 原生配色方案
  - 主色调：#2271b1 (WordPress Blue)
  - 成功：#00a32a (绿色)
  - 警告：#856404 (黄色)
  - 危险：#d63638 (红色)
- **信息网格**: 缓存策略说明使用网格布局，信息展示更直观
- **危险操作区**: 全站清理功能使用红色警告样式，防止误操作

### 🔧 功能改进
- **测试连接机制**: 
  - 调用腾讯云 DescribeZones API 验证配置
  - 返回站点名称和状态信息
  - 详细的错误提示和解决方案
- **按钮禁用逻辑**: SDK 未安装或配置不完整时，自动禁用相关操作按钮
- **操作确认优化**: 全站清理增加更详细的二次确认提示
- **帮助信息**: 添加帮助卡片，提供官方文档链接

### 📱 移动端适配
- **自适应按钮组**: 移动端自动切换为垂直布局
- **响应式网格**: 小屏幕自动切换为单列显示
- **触摸优化**: 按钮和链接区域适合触摸操作

### 🔒 安全性
- **密码字段**: SecretKey 使用 password 类型输入框
- **显示切换**: 提供显示/隐藏按钮，方便用户检查输入
- **权限验证**: 所有操作都经过权限和 nonce 验证

### 📚 文档更新
- 更新 README.md，添加新功能说明
- 添加详细的使用场景说明
- 提供更清晰的安装和配置指南

---

## v1.0.2

### 功能
- 基础缓存清理功能
- 支持三种清理策略（purge_url / purge_host / purge_all）
- 文章发布/更新自动触发
- 文章列表手动清理选项
- 基础设置页面

---

## 技术栈

- WordPress 5.0+
- PHP 7.4+
- 腾讯云 EdgeOne SDK
- CSS Grid / Flexbox（响应式布局）
- WordPress Dashicons
- WordPress Settings API

## 兼容性

- ✅ WordPress 5.0 - 6.x
- ✅ PHP 7.4 - 8.2
- ✅ 桌面浏览器（Chrome, Firefox, Safari, Edge）
- ✅ 移动浏览器（iOS Safari, Android Chrome）
- ✅ 平板设备

## 未来计划

- [ ] 添加缓存清理历史记录
- [ ] 支持自定义 URL 批量清理
- [ ] 添加定时自动清理功能
- [ ] 支持页面和分类页面缓存清理
- [ ] 多语言支持（英文、中文）
- [ ] 添加统计图表展示清理次数
